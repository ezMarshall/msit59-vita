@{
    string usernameCookie = System.Web.HttpUtility.UrlDecode(Context.Request.Cookies["userName"]) ?? "Guest";
}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VITA | @ViewData["Title"]</title>
    <link rel="shortcut icon" href="~/image/logo/logo_30x30_dark.png" type="image/x-icon">
    <link rel="stylesheet" href="~/lib/font-awesome/css/all.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg bg-dark navbar-dark sticky-top shadow">
            <div class="container-lg">
                <h1 class="m-0">
                    <a href="./Home" class="replace-text-nav">
                        VITA健康餐盒訂餐平台
                    </a>
                </h1>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
                        aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavDropdown">
                    <ul class="navbar-nav ms-auto">
                        @* 會員中心 *@
                        @if (usernameCookie != "Guest")
                            {      
                                <li class="nav-item text-light mt-3 mt-lg-0">
                                    <span class="text-primary me-3 nav-welcome ps-2">Welcome Back, @usernameCookie</span>
                                </li>
                                @* 分隔線 *@
                                <li class="d-lg-none border-light border-top opacity-25 my-3"></li>
                                <li><a class="d-lg-none d-block p-2 text-decoration-none" href="#">會員資料</a></li>
                                <li><a class="d-lg-none d-block p-2 text-decoration-none" href="#">我的訂單</a></li>
                                <li><a class="d-lg-none d-block p-2 text-decoration-none" href="#">收藏店家</a></li>
                                <li><a class="d-lg-none d-block p-2 text-decoration-none" href="#">我的評論</a></li>
                                <li><a class="d-lg-none d-block p-2 text-decoration-none" href="@Url.Action("Logout","Login")">登出</a></li>
                                <li class="nav-item dropdown d-none d-lg-block z-index-1">
                                    <button type="button" class="dropdown-toggle btn btn-outline-primary rounded-pill px-4 py-2 fw-bold" href="#"
                                            id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        會員中心
                                    </button>
                                    <ul class="dropdown-menu dropdown-menu-end text-center rounded-3 bg-primary border border-dark border-5 p-3"
                                        aria-labelledby="navbarDropdownMenuLink">
                                        <li><a class="dropdown-item py-2" href="#">會員資料</a></li>
                                        <li><a class="dropdown-item py-2" href="#">我的訂單</a></li>
                                        <li><a class="dropdown-item py-2" href="#">收藏店家</a></li>
                                        <li><a class="dropdown-item py-2" href="#">我的評論</a></li>
                                        <li><a class="dropdown-item py-2" href="@Url.Action("Logout","Login")">登出</a></li>
                                    </ul>
                                </li>
                            }
                        
                        @* 登入註冊 *@
                        @if (usernameCookie == "Guest")
                        {
                            <li class="my-2 my-lg-0">
                              <a asp-controller="Login" asp-action="Index" class="d-none d-lg-block rounded-pill btn btn-outline-primary me-3 px-4 py-2">登入</a>
                              <a asp-controller="Login" asp-action="Index" class="d-lg-none p-2 text-decoration-none link-primary">登入</a>
                            </li>
                            <li class="my-2 my-lg-0">
                              <a asp-controller="Register" asp-action="Index" class="d-none d-lg-block rounded-pill btn btn-primary px-4 py-2 me-4" id="btnRegister">註冊</a>
                              <a asp-controller="Register" asp-action="Index" class="d-lg-none p-2 text-decoration-none link-primary">註冊</a>
                            </li>
                        }

                        @* 分隔線 *@
                        <li class="d-lg-none border-light border-top opacity-25 my-3"></li>

                        @* 購物車 *@
                        <li>
                            <a href="javascript:void(0)" class="position-relative ms-4 d-none d-lg-block">
                                <i class="fa-solid fa-cart-shopping fs-3 nav-icon"></i>
                                <span class="d-block rounded-circle position-absolute translate-middle top-0 start-100 bg-info text-center text-light fw-bold" id="cartNum">1</span>
                            </a>
                            <a href="javascript:void(0)" class="d-block d-lg-none text-decoration-none p-2">購物車</a>
                        </li>

                        @* 通知 *@
                        @if (usernameCookie != "Guest")
                        {
                            <li>
                                <a data-bs-toggle="offcanvas" href="#offcanvasNotify" role="button" aria-controls="offcanvasNotify" class="d-block position-relative ms-3 d-none d-lg-block">
                                    <i class="fa-regular fa-bell fs-3 nav-icon"></i>
                                    <span class="d-block rounded-circle position-absolute translate-middle top-0 start-100 bg-info text-center text-light fw-bold" id="notifyNum">1</span>
                                </a>
                                <a data-bs-toggle="offcanvas" href="#offcanvasNotifyMobile" role="button" aria-controls="offcanvasNotifyMobile" class="d-block d-lg-none text-decoration-none p-2">重要通知</a>
                            </li>
                        }
                    </ul>

                </div>
            </div>
        </nav>
    
    </header>

   @RenderBody()

    <footer class="bg-dark pt-5">
        <div class="container-lg row mx-auto">
            <div class="d-none d-md-block col-md-4 mb-3 mb-md-0">
                <p class="footer-slogan text-primary">
                    集結200家健康餐盒，你的健康，我們守護！<br>
                    首選VITA，百搭你的味蕾。
                </p>
            </div>
            <div class="col-6 col-md-4">
                <p class="text-primary fw-bold fs-5">聯絡我們</p>
                <a href="tel:+0800123567"><i class="fa-solid fa-phone me-2"></i>0800-123-567</a> <br>
                <a href="mailto:info@vita.com"><i class="fa-regular fa-envelope me-2"></i>info@vita.com</a>
                <div class="mt-4">
                    <a href="#" class="footer-link d-inline-block link-primary">
                        <i class="fa-brands fa-facebook fs-3"></i>
                    </a>
                    <a href="#" class="footer-link link-primary">
                        <i class="fa-brands fa-instagram fs-3 ms-3"></i>
                    </a>
                </div>
            </div>

            <div class="col-6 col-md-4">
                <a asp-controller="JoinUs" asp-action="Index" class="d-block text-decoration-none link-primary fs-5 fw-bold footer-link">加入我們</a>
                <a asp-controller="QA" asp-action="Index" class="d-block text-decoration-none link-primary fs-5 fw-bold mt-3 footer-link">常見問題</a>
            </div>
            <div class="col-12 border-top mt-5 border-primary">
                <p class="text-primary text-center my-4">© 2024 資展專題報告</p>
            </div>
        </div>
    </footer>
    <!-- footer end -->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>

</html>